# m1925-tickets2-api
api.1925.me/tickets2 description

## Common values

`[token]` - Токен для підпису важливих подій (покласти місце в кошик, зняти з резерву, оплата)

`event` - Подія (матч), ключ GUID (varchar(36))
`sector` - Сектор в події, ключ GUID (varchar(36))
`row` - Ряд в секторі, tinyint(1)
`seat` - Місце в секторі, tinyint(1)
`sid` - Ідентифікатор сесії для події бронювання та оплати, varchar(50)

## Request for information

Запит що вертає список подій

**GET** : `https://api.1925.me/tickets2/getevents`

## Success Response

**Code** : `200`

```json
{
  "guid":"53345751-cd8f-11ee-935f-00505630580c",
  "start":"2025-07-25 15:30:00",
  "stop":"2025-08-04 19:45:00",
  "name":"Металіст 1925 - Оболонь",
  "date":"2025-08-04 18:00:00"
}
```

`guid` - унікальний іжентифікатор події
`start` - час старту публічного продажу
`stop` - час коли продаж зупиняється
`name` - назва події
`date` - дата та час початку події

Запит що вертає список секторів в події

**GET** : `https://api.1925.me/tickets2/getsectors?event=53345751-cd8f-11ee-935f-00505630580c`

## Success Response

**Code** : `200`

```json
{
  "guid":"53345751-cd8f-11ee-935f-00505630580c",
  "name":"Металіст 1925 - Оболонь",
  "order":1,
  "price":"100.00",
  "available":500
}
```

`guid` - унікальний іжентифікатор сектора
`name` - назва сектору
`order` - порядок сотрування в списку
`price` - ціна квитка
`available` - кількість доступних для продажу місць на момент запиту

Запит що вертає список список всіх місць в секторі

**GET** : `https://api.1925.me/tickets2/getseats?sector=53345751-cd8f-11ee-935f-00505630580c`

## Success Response

**Code** : `200`

```json
{
  [{"row":1,"seat":1,"available":1,"take":0},{"row":1,"seat":2,"available":1,"take":1}]
}
```

`row` - номер ряду
`seat` - номер місця
`available` - ознака доступності місця
`take` - ознака що місце зайняте

Запит що вертає список список вільних місць в секторі (на момент запиту)

**GET** : `https://api.1925.me/tickets2/getfreeseats?sector=53345751-cd8f-11ee-935f-00505630580c`

## Success Response

**Code** : `200`

```json
{
  [{"row":1,"seat":1},{"row":1,"seat":2}]
}
```

`row` - номер ряду
`seat` - номер місця

Запит що кладе місце в кошик

**GET** : `https://api.1925.me/tickets2/putseat?sector=53345751-cd8f-11ee-935f-00505630580c&row=1&seat=1&sid=02c62aa968d811f0994e00505630580c`

## Success Response

**Code** : `200`

```json
{
  "guid":"53345751-cd8f-11ee-935f-00505630580c",
  "response":1,
  "text":"Місце успішно заброньоване"
}
```
або помилка
```json
{
  "response":0,
  "text":"Місце вже заброньоване або продане"
}
```

`guid` - унікальний ідентифікатор бронювання конкретного місця
`response` - ознака успішності операції
`text` - текстове пояснення результату або помилки

Запит що звілюнює місце з кошика

**GET** : `https://api.1925.me/tickets2/unputseat?guid=53345751-cd8f-11ee-935f-00505630580c&sid=02c62aa968d811f0994e00505630580c`

## Success Response

**Code** : `200`

```json
{
  "response":1
}
```
або помилка
```json
{
  "response":0
}
```

`guid` - унікальний ідентифікатор бронювання конкретного місця (отриманий при його бронюванні)
`response` - ознака успішності операції

Запит що формує інвойс для оплати (???)

**GET** : `https://api.1925.me/tickets2/addinvoice`

## Success Response

**Code** : `200`

```json
{
  "response":1,
  "guid":"53345751-cd8f-11ee-935f-00505630580c",
  "code":"TKHB000009",
  "total":1000
}
```
або помилка
```json
{
  "response":0,
  "text":"Якась помилка"
}
```

`guid` - унікальний ідентифікатор ордеру (внутрішній)
`code` - унікальний код інвойсу (публічний)
`total` - сума інвойсу
`response` - ознака успішності операції
`text` - текстове пояснення результату або помилки

Запит що підтверджує факт оплати інвойсу

**GET** : `https://api.1925.me/tickets2/paidinvoice?guid=53345751-cd8f-11ee-935f-00505630580c`

## Success Response

**Code** : `200`

```json
{
  "response":1,
  "tickets":["TUVW00443301533785","TMHE00131701744332"],
}
```
або помилка
```json
{
  "response":0,
  "text":"Якась помилка"
}
```

`tickets` - унікальний код квитка (який друкується на квитку у вигляді Code128 або QR з текстом, для сканування в нашій системі)
`response` - ознака успішності операції
`text` - текстове пояснення результату або помилки

